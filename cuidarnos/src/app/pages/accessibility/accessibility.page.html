<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Accesibilidad</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [class.high-contrast]="highContrast">
  <div class="accessibility-container">
    
    <!-- Main Accessibility Card -->
    <ion-card class="info-card">
      <div class="card-header">
        <ion-icon name="accessibility"></ion-icon>
        <h2>Opciones de Accesibilidad</h2>
      </div>
      
      <!-- Text Size Section -->
      <div class="accessibility-section">
        <h3>Tamaño del Texto</h3>
        <p>Ajusta el tamaño del texto para una mejor lectura y comodidad visual</p>
        
        <div class="text-size-controls">
          <div class="control-buttons">
            <ion-button 
              fill="solid" 
              (click)="decreaseFontSize()"
              [disabled]="fontSize <= 80"
              aria-label="Disminuir tamaño de texto">
              <ion-icon name="remove-circle"></ion-icon>
            </ion-button>
            
            <ion-button 
              fill="solid" 
              (click)="increaseFontSize()"
              [disabled]="fontSize >= 150"
              aria-label="Aumentar tamaño de texto">
              <ion-icon name="add-circle"></ion-icon>
            </ion-button>
          </div>
          
          <div class="text-size-preview" 
               [style.fontSize.%]="fontSize"
               [class.changing]="isChangingSize">
            Aa
          </div>
        </div>
        
        <div class="text-size-value">Tamaño actual: {{fontSize}}%</div>
        
        <!-- Visual Feedback -->
        <div class="visual-feedback">
          <div class="feedback-item">
            <div class="feedback-icon">
              <ion-icon name="eye-outline"></ion-icon>
            </div>
            <span class="feedback-text">
              El texto se ajustará en toda la aplicación
            </span>
          </div>
        </div>
      </div>
      
      <!-- FIXED: Display Options Section -->
      <div class="accessibility-section">
        <h3>Opciones de Visualización</h3>
        <p>Configura las opciones visuales para mejorar la legibilidad</p>
        
        <div class="toggle-container">
          <div class="toggle-info">
            <h4>Modo de Alto Contraste</h4>
            <p>Aumenta el contraste para mejor visibilidad</p>
          </div>
          <ion-toggle
            [checked]="highContrast"
            (ionChange)="onToggleChange($event)"
            aria-label="Activar modo de alto contraste">
          </ion-toggle>
        </div>
        
        <!-- Visual Feedback for High Contrast -->
        <div class="visual-feedback" *ngIf="highContrast">
          <div class="feedback-item">
            <div class="feedback-icon">
              <ion-icon name="contrast-outline"></ion-icon>
            </div>
            <span class="feedback-text">
              Modo de alto contraste activado
            </span>
          </div>
        </div>
      </div>
    </ion-card>
    
    <!-- Accessibility Tips Card -->
    <ion-card class="tips-card">
      <div class="tips-header">
        <ion-icon name="bulb"></ion-icon>
        <h4>Consejos de Accesibilidad</h4>
      </div>
      
      <ul class="tips-list">
        <li>Usa el tamaño de texto que te resulte más cómodo para leer</li>
        <li>El modo de alto contraste ayuda en condiciones de poca luz</li>
        <li>Puedes usar gestos de zoom en cualquier pantalla</li>
        <li>La aplicación es compatible con lectores de pantalla</li>
        <li>Todos los botones tienen etiquetas descriptivas</li>
      </ul>
    </ion-card>
    
    <div class="toolbar-spacer"></div>
  </div>
</ion-content>
